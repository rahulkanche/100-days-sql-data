<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 14 Data Download - Hospital Patient Management</title>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-D4B22G41TP');
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .hero {
            background: white;
            border-radius: 20px;
            padding: 60px 40px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-bottom: 40px;
        }
        .hero h1 {
            font-size: 48px;
            color: #667eea;
            margin-bottom: 20px;
        }
        .hero p {
            font-size: 20px;
            color: #6b7280;
            margin-bottom: 20px;
        }
        .topic-tags {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        .tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
        }
        .table-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .table-section h2 {
            color: #667eea;
            font-size: 32px;
            margin-bottom: 15px;
        }
        .table-section p {
            color: #6b7280;
            margin-bottom: 20px;
            font-size: 16px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 14px;
        }
        table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            position: sticky;
            top: 0;
        }
        table td {
            border: 1px solid #e2e8f0;
            padding: 12px;
        }
        table tr:nth-child(even) {
            background: #f7fafc;
        }
        .download-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
        }
        .download-btn:hover {
            background: #059669;
            transform: translateY(-2px);
        }
        .instructions {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .instructions h2 {
            color: #667eea;
            margin-bottom: 20px;
        }
        .instructions pre {
            background: #2d3748;
            color: #48bb78;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            font-size: 14px;
            line-height: 1.6;
        }
        .back-link {
            display: inline-block;
            background: white;
            color: #667eea;
            padding: 12px 30px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            margin: 20px 0;
        }
        .back-link:hover {
            background: #f0f0f0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hero">
            <h1>üìä Day 14 - Data Download</h1>
            <p>Hospital Patient Management - Prescription Tracking System</p>
            <p style="font-size: 16px; color: #9ca3af;">Download CSV files for all 4 tables with 20+ rows of messy hospital data</p>
            <div class="topic-tags">
                <span class="tag">Healthcare Data</span>
                <span class="tag">Prescription Tracking</span>
                <span class="tag">Risk Scoring</span>
                <span class="tag">Data Cleaning</span>
            </div>
        </div>

        <!-- Table 1: Patient Records -->
        <div class="table-section">
            <h2>üë• Table 1: patient_records</h2>
            <p>25 rows of messy patient data with inconsistent formats, NULL values, and various date formats</p>
            <button class="download-btn" onclick="downloadCSV('patient_records')">‚¨áÔ∏è Download patient_records.csv</button>
            <div style="overflow-x: auto;">
                <table id="patient_records">
                    <thead>
                        <tr>
                            <th>patient_id</th>
                            <th>full_name</th>
                            <th>date_of_birth</th>
                            <th>admission_date</th>
                            <th>discharge_date</th>
                            <th>diagnosis</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>  P001  </td><td>john smith</td><td>15/05/1985</td><td>2024-01-10 08:30:00</td><td>2024-01-15</td><td>Hypertension</td></tr>
                        <tr><td>p002</td><td>SARAH JONES</td><td>1990-08-22</td><td>10/01/2024</td><td>NULL</td><td>  Diabetes  </td></tr>
                        <tr><td>P003</td><td>  Mike Wilson  </td><td>1978-03-10</td><td>2024/01/12 14:45</td><td>2024-01-20</td><td>flu</td></tr>
                        <tr><td>P004</td><td>anna garcia</td><td>22-07-1995</td><td>2024-01-15</td><td>NULL</td><td>PNEUMONIA</td></tr>
                        <tr><td>p005</td><td>Bob Brown</td><td>1982/11/30</td><td>15/01/2024 09:00</td><td>2024-01-18</td><td>Fracture</td></tr>
                        <tr><td>P006</td><td>EMMA DAVIS</td><td>1998-02-14</td><td>2024-01-16 10:15:30</td><td>2024-01-22</td><td>  Asthma  </td></tr>
                        <tr><td>p007</td><td>david lee</td><td>10/09/1975</td><td>16/01/2024</td><td>2024-01-19</td><td>Migraine</td></tr>
                        <tr><td>P008</td><td>Lisa Martinez</td><td>1989-07-25</td><td>2024/01/17 11:30</td><td>NULL</td><td>DEPRESSION</td></tr>
                        <tr><td>P009</td><td>  JAMES TAYLOR  </td><td>05-12-1992</td><td>2024-01-18</td><td>2024-01-25</td><td>Bronchitis</td></tr>
                        <tr><td>p010</td><td>maria lopez</td><td>1980/03/18</td><td>18/01/2024 14:00</td><td>2024-01-21</td><td>arthritis</td></tr>
                        <tr><td>P011</td><td>Robert Clark</td><td>1987-11-05</td><td>2024-01-19 08:45:00</td><td>NULL</td><td>COPD</td></tr>
                        <tr><td>p012</td><td>NANCY WHITE</td><td>15/04/1993</td><td>19/01/2024</td><td>2024-01-23</td><td>  Gastritis  </td></tr>
                        <tr><td>P013</td><td>  kevin harris  </td><td>1976-06-30</td><td>2024/01/20 09:30</td><td>2024-01-26</td><td>Insomnia</td></tr>
                        <tr><td>P014</td><td>Linda Martin</td><td>20-08-1991</td><td>2024-01-21</td><td>NULL</td><td>ANXIETY</td></tr>
                        <tr><td>p015</td><td>PAUL THOMPSON</td><td>1984/01/22</td><td>21/01/2024 10:00</td><td>2024-01-24</td><td>Allergy</td></tr>
                        <tr><td>P016</td><td>karen walker</td><td>1996-09-12</td><td>2024-01-22 11:15:00</td><td>2024-01-28</td><td>  ECZEMA  </td></tr>
                        <tr><td>p017</td><td>  Mark Hall  </td><td>08/11/1979</td><td>22/01/2024</td><td>NULL</td><td>Sinusitis</td></tr>
                        <tr><td>P018</td><td>SANDRA YOUNG</td><td>1988-04-17</td><td>2024/01/23 13:45</td><td>2024-01-27</td><td>gout</td></tr>
                        <tr><td>P019</td><td>Daniel King</td><td>12-06-1994</td><td>2024-01-24</td><td>2024-01-29</td><td>GERD</td></tr>
                        <tr><td>p020</td><td>betty wright</td><td>1981/07/08</td><td>24/01/2024 15:30</td><td>NULL</td><td>  Vertigo  </td></tr>
                        <tr><td>P021</td><td>GEORGE ALLEN</td><td>1977-10-25</td><td>2024-01-25 09:00:00</td><td>2024-01-30</td><td>Anemia</td></tr>
                        <tr><td>p022</td><td>  helen scott  </td><td>18/02/1990</td><td>25/01/2024</td><td>2024-01-31</td><td>THYROID</td></tr>
                        <tr><td>P023</td><td>Ryan Green</td><td>1986-12-03</td><td>2024/01/26 10:45</td><td>NULL</td><td>  Obesity  </td></tr>
                        <tr><td>P024</td><td>MICHELLE BAKER</td><td>30-05-1995</td><td>2024-01-27</td><td>2024-02-01</td><td>UTI</td></tr>
                        <tr><td>p025</td><td>steven adams</td><td>1983/09/14</td><td>27/01/2024 12:00</td><td>2024-02-02</td><td>CELLULITIS</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Table 2: Medications -->
        <div class="table-section">
            <h2>üíä Table 2: medications</h2>
            <p>5 rows of medication reference data with risk levels (Clean data)</p>
            <button class="download-btn" onclick="downloadCSV('medications')">‚¨áÔ∏è Download medications.csv</button>
            <div style="overflow-x: auto;">
                <table id="medications">
                    <thead>
                        <tr>
                            <th>med_id</th>
                            <th>medication_name</th>
                            <th>category</th>
                            <th>unit_price</th>
                            <th>risk_level</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>MED001</td><td>Aspirin</td><td>Pain Relief</td><td>5.50</td><td>LOW</td></tr>
                        <tr><td>MED002</td><td>Metformin</td><td>Diabetes</td><td>12.00</td><td>LOW</td></tr>
                        <tr><td>MED003</td><td>Lisinopril</td><td>Hypertension</td><td>18.50</td><td>MEDIUM</td></tr>
                        <tr><td>MED004</td><td>Warfarin</td><td>Blood Thinner</td><td>25.00</td><td>HIGH</td></tr>
                        <tr><td>MED005</td><td>Morphine</td><td>Pain Relief</td><td>45.00</td><td>HIGH</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Table 3: Prescriptions -->
        <div class="table-section">
            <h2>üìã Table 3: prescriptions</h2>
            <p>30 rows of messy prescription records with missing data and format inconsistencies</p>
            <button class="download-btn" onclick="downloadCSV('prescriptions')">‚¨áÔ∏è Download prescriptions.csv</button>
            <div style="overflow-x: auto;">
                <table id="prescriptions">
                    <thead>
                        <tr>
                            <th>prescription_id</th>
                            <th>patient_id</th>
                            <th>doctor_id</th>
                            <th>med_id</th>
                            <th>dosage</th>
                            <th>prescription_date</th>
                            <th>status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>RX001</td><td>P001</td><td>  D101  </td><td>MED003</td><td>10mg</td><td>2024-01-10</td><td>ACTIVE</td></tr>
                        <tr><td>RX002</td><td>p002</td><td>d102</td><td>med002</td><td>500 mg</td><td>10/01/2024</td><td>active</td></tr>
                        <tr><td>RX003</td><td>P003</td><td>D101</td><td>MED001</td><td>NULL</td><td>2024/01/12</td><td>Completed</td></tr>
                        <tr><td>RX004</td><td>P004</td><td>D103</td><td>med999</td><td>250mg</td><td>15-01-2024</td><td>ACTIVE</td></tr>
                        <tr><td>RX005</td><td>NULL</td><td>D102</td><td>MED005</td><td>5mg</td><td>2024-01-16</td><td>cancelled</td></tr>
                        <tr><td>RX006</td><td>P006</td><td>d103</td><td>MED001</td><td>100 mg</td><td>16/01/2024</td><td>ACTIVE</td></tr>
                        <tr><td>RX007</td><td>p007</td><td>D101</td><td>med003</td><td>20mg</td><td>2024/01/16</td><td>active</td></tr>
                        <tr><td>RX008</td><td>P008</td><td>  D104  </td><td>MED002</td><td>NULL</td><td>17-01-2024</td><td>ACTIVE</td></tr>
                        <tr><td>RX009</td><td>P009</td><td>D102</td><td>MED001</td><td>75mg</td><td>2024-01-18</td><td>Completed</td></tr>
                        <tr><td>RX010</td><td>p010</td><td>d105</td><td>med004</td><td>5 mg</td><td>18/01/2024</td><td>active</td></tr>
                        <tr><td>RX011</td><td>P011</td><td>D103</td><td>MED003</td><td>15mg</td><td>2024/01/19</td><td>ACTIVE</td></tr>
                        <tr><td>RX012</td><td>P012</td><td>D101</td><td>med001</td><td>50 mg</td><td>19-01-2024</td><td>Completed</td></tr>
                        <tr><td>RX013</td><td>p013</td><td>  D102  </td><td>MED005</td><td>NULL</td><td>2024-01-20</td><td>ACTIVE</td></tr>
                        <tr><td>RX014</td><td>NULL</td><td>D104</td><td>MED002</td><td>1000mg</td><td>20/01/2024</td><td>cancelled</td></tr>
                        <tr><td>RX015</td><td>P015</td><td>d101</td><td>med003</td><td>25mg</td><td>2024/01/21</td><td>active</td></tr>
                        <tr><td>RX016</td><td>P016</td><td>D103</td><td>MED001</td><td>100 mg</td><td>22-01-2024</td><td>ACTIVE</td></tr>
                        <tr><td>RX017</td><td>p017</td><td>D105</td><td>med004</td><td>NULL</td><td>2024-01-22</td><td>Completed</td></tr>
                        <tr><td>RX018</td><td>P018</td><td>  D101  </td><td>MED002</td><td>500 mg</td><td>23/01/2024</td><td>active</td></tr>
                        <tr><td>RX019</td><td>P019</td><td>d102</td><td>med003</td><td>10mg</td><td>2024/01/24</td><td>ACTIVE</td></tr>
                        <tr><td>RX020</td><td>p020</td><td>D104</td><td>MED005</td><td>10 mg</td><td>24-01-2024</td><td>ACTIVE</td></tr>
                        <tr><td>RX021</td><td>P021</td><td>D103</td><td>med001</td><td>NULL</td><td>2024-01-25</td><td>Completed</td></tr>
                        <tr><td>RX022</td><td>P022</td><td>d101</td><td>MED003</td><td>20mg</td><td>25/01/2024</td><td>active</td></tr>
                        <tr><td>RX023</td><td>p023</td><td>  D102  </td><td>med002</td><td>750 mg</td><td>2024/01/26</td><td>ACTIVE</td></tr>
                        <tr><td>RX024</td><td>P024</td><td>D105</td><td>MED001</td><td>50mg</td><td>27-01-2024</td><td>Completed</td></tr>
                        <tr><td>RX025</td><td>NULL</td><td>D104</td><td>med004</td><td>NULL</td><td>2024-01-27</td><td>cancelled</td></tr>
                        <tr><td>RX026</td><td>P001</td><td>d103</td><td>MED005</td><td>15 mg</td><td>28/01/2024</td><td>ACTIVE</td></tr>
                        <tr><td>RX027</td><td>p005</td><td>D101</td><td>med003</td><td>30mg</td><td>2024/01/28</td><td>active</td></tr>
                        <tr><td>RX028</td><td>P010</td><td>D102</td><td>MED002</td><td>500 mg</td><td>29-01-2024</td><td>ACTIVE</td></tr>
                        <tr><td>RX029</td><td>P015</td><td>  D104  </td><td>med001</td><td>NULL</td><td>2024-01-30</td><td>Completed</td></tr>
                        <tr><td>RX030</td><td>p020</td><td>d105</td><td>MED004</td><td>7.5mg</td><td>30/01/2024</td><td>active</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Table 4: Doctors -->
        <div class="table-section">
            <h2>üë®‚Äç‚öïÔ∏è Table 4: doctors</h2>
            <p>8 rows of doctor information with messy names and statuses</p>
            <button class="download-btn" onclick="downloadCSV('doctors')">‚¨áÔ∏è Download doctors.csv</button>
            <div style="overflow-x: auto;">
                <table id="doctors">
                    <thead>
                        <tr>
                            <th>doctor_id</th>
                            <th>doctor_name</th>
                            <th>specialization</th>
                            <th>license_status</th>
                            <th>hire_date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>D101</td><td>dr. emily chen</td><td>Cardiology</td><td>ACTIVE</td><td>2020-03-15</td></tr>
                        <tr><td>d102</td><td>DR. MICHAEL BROWN</td><td>  Endocrinology  </td><td>active</td><td>15/06/2019</td></tr>
                        <tr><td>D103</td><td>  Sarah Davis  </td><td>general medicine</td><td>ACTIVE</td><td>2021-09-01</td></tr>
                        <tr><td>D104</td><td>james wilson</td><td>Orthopedics</td><td>SUSPENDED</td><td>2018/12/10</td></tr>
                        <tr><td>d105</td><td>LISA MARTINEZ</td><td>Pediatrics</td><td>active</td><td>01-08-2022</td></tr>
                        <tr><td>D106</td><td>Robert Taylor</td><td>  Neurology  </td><td>ACTIVE</td><td>2019-11-20</td></tr>
                        <tr><td>d107</td><td>  KAREN MOORE  </td><td>Dermatology</td><td>active</td><td>10/03/2020</td></tr>
                        <tr><td>D108</td><td>david anderson</td><td>PSYCHIATRY</td><td>SUSPENDED</td><td>2017/05/15</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Instructions -->
        <div class="instructions">
            <h2>üìù How to Import CSV Files</h2>
            <h3 style="color: #764ba2; margin-top: 20px;">MySQL:</h3>
            <pre>
CREATE DATABASE hospital_db;
USE hospital_db;

-- Import patient_records
LOAD DATA LOCAL INFILE 'patient_records.csv'
INTO TABLE patient_records
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS;

-- Repeat for other tables...</pre>

            <h3 style="color: #764ba2; margin-top: 20px;">PostgreSQL:</h3>
            <pre>
CREATE DATABASE hospital_db;
\c hospital_db

-- Import patient_records
COPY patient_records FROM '/path/to/patient_records.csv'
DELIMITER ',' CSV HEADER;

-- Repeat for other tables...</pre>

            <p style="margin-top: 20px; color: #6b7280;">
                <strong>Tip:</strong> Create tables with appropriate data types before importing. Use VARCHAR for IDs, DATE for dates, DECIMAL for prices.
            </p>
        </div>

        <div style="text-align: center; margin: 40px 0;">
            <a href="day-14-challenge.html" class="back-link">‚Üê Back to Day 14 Challenge</a>
        </div>
    </div>

    <script>
        function downloadCSV(tableName) {
            const table = document.getElementById(tableName);
            let csv = [];
            
            // Get headers
            const headers = [];
            table.querySelectorAll('thead th').forEach(th => {
                headers.push(th.textContent);
            });
            csv.push(headers.join(','));
            
            // Get rows
            table.querySelectorAll('tbody tr').forEach(tr => {
                const row = [];
                tr.querySelectorAll('td').forEach(td => {
                    let text = td.textContent;
                    // Escape quotes and wrap in quotes if contains comma
                    if (text.includes(',') || text.includes('"')) {
                        text = '"' + text.replace(/"/g, '""') + '"';
                    }
                    row.push(text);
                });
                csv.push(row.join(','));
            });
            
            // Create download
            const csvContent = csv.join('\n');
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `day_14_${tableName}.csv`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
